From 05a1573eddc6dc404631c9d16474c81aa4cea569 Mon Sep 17 00:00:00 2001
From: Andreas Kling <andreas.kling@nokia.com>
Date: Wed, 3 Feb 2010 14:56:15 +0100
Subject: [PATCH] Fixed QFileInfo::absolutePath() warning when running "qmake -project"

Task-number: QTBUG-7176
Reviewed-by: Benjamin Poulain <benjamin.poulain@nokia.com>
---
 qmake/project.cpp |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

--- a/qmake/project.cpp
+++ b/qmake/project.cpp
@@ -3067,7 +3067,7 @@ QStringList &QMakeProject::values(const
         place[var] = QStringList(pfile);
     } else if(var == QLatin1String("_PRO_FILE_PWD_")) {
         var = ".BUILTIN." + var;
-        place[var] =  QStringList(QFileInfo(pfile).absolutePath());
+        place[var] = QStringList(pfile.isEmpty() ? qmake_getpwd() : QFileInfo(pfile).absolutePath());
     } else if(var == QLatin1String("_QMAKE_CACHE_")) {
         var = ".BUILTIN." + var;
         if(Option::mkfile::do_cache)
