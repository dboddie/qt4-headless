Description: Build QtWebkit and use it only for QtAssistant.
Author: Felix Geyer <debfx-pkg@fobos.de>

---
 src/src.pro                                   |    4 ----
 tools/assistant/tools/assistant/assistant.pro |    7 ++-----
 2 files changed, 2 insertions(+), 9 deletions(-)

--- a/src/src.pro
+++ b/src/src.pro
@@ -21,9 +21,7 @@ contains(QT_CONFIG, multimedia): SRC_SUB
 contains(QT_CONFIG, svg): SRC_SUBDIRS += src_svg
 contains(QT_CONFIG, script): SRC_SUBDIRS += src_script
 contains(QT_CONFIG, declarative): SRC_SUBDIRS += src_declarative
-contains(QT_CONFIG, webkit)  {
     SRC_SUBDIRS += src_webkit
-}
 !contains(QT_CONFIG, no-gui):contains(QT_CONFIG, scripttools): SRC_SUBDIRS += src_scripttools
 SRC_SUBDIRS += src_plugins
 contains(QT_CONFIG, declarative): SRC_SUBDIRS += src_imports
@@ -111,11 +109,9 @@ src_declarative.target = sub-declarative
    src_s60installs.depends = $$TOOLS_SUBDIRS $$SRC_SUBDIRS
    src_s60installs.depends -= src_s60installs
    src_imports.depends = src_gui src_declarative
-   contains(QT_CONFIG, webkit)  {
       src_webkit.depends = src_gui src_sql src_network
       contains(QT_CONFIG, xmlpatterns): src_webkit.depends += src_xmlpatterns
       src_imports.depends += src_webkit
-   }
    contains(QT_CONFIG, qt3support): src_plugins.depends += src_qt3support
    contains(QT_CONFIG, dbus):{
       src_plugins.depends += src_dbus
--- a/tools/assistant/tools/assistant/assistant.pro
+++ b/tools/assistant/tools/assistant/assistant.pro
@@ -2,7 +2,8 @@ include(../../../shared/fontpanel/fontpa
 TEMPLATE = app
 LANGUAGE = C++
 TARGET = assistant-qt4
-contains(QT_CONFIG, webkit):QT += webkit
+QT += webkit
+DEFINES += QT_WEBKIT
 CONFIG += qt \
     warn_on \
     help
@@ -81,11 +82,7 @@ SOURCES += aboutdialog.cpp \
     openpageswidget.cpp \
     openpagesmanager.cpp \
     openpagesswitcher.cpp
-contains(QT_CONFIG, webkit) {
     SOURCES += helpviewer_qwv.cpp
-} else {
-    SOURCES += helpviewer_qtb.cpp
-}
 
 FORMS += bookmarkdialog.ui \
     bookmarkmanagerwidget.ui \
